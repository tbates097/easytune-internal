üîç Processing FR file: test-X-Center.fr
üìÖ Timestamp: 2025-06-12 15:43:34
============================================================

üéØ STEP 2: EasyTune Optimization

Starting EasyTune thread...
Reading FR file: C:\Users\MECHASSY\Documents\Automation1\test-X-Center.fr

Loaded FR Data:
Version: 2.10.1.3089
Data type: <class 'Aerotech.Automation1.Applications.Wpf.FrequencyResponseResult'>
Block_Layout Filename: C:\Users\MECHASSY\Documents\Automation1\test-X-Center.fr
Successfully created block layout

Attempting EasyTune optimization...
Best Result: Aerotech.Automation1.Applications.Interfaces.PopulationMember

EasyTune Results:
Success: False
Generations: 218
Time: 0.15s
Logs: C:\Users\mechassy\Desktop\EasyTune\EasyTune Logs\X_EasyTune 2025.06.12 15.43.48.zip

Analysis complete. Results written to: C:\Users\MECHASSY\Documents\Automation1\EasyTune_Results_test-X-Center_20250612_154353.txt
EasyTune thread completed

============================================================
                STABILITY ANALYSIS REPORT
============================================================

üîß FEEDFORWARD ANALYSIS:
   Center Frequency: 158.7 Hz
   Center Magnitude Difference: -4.915 dB
   Slope Difference: -7.042 dB/decade

üìê PHASE MARGIN ANALYSIS:
   Current Value: 35.4¬∞ @ 30.9 Hz
   Target Range:  38-52¬∞
   Target Value:  45¬∞
   ‚ùå FAIL - Phase margin too low (minimum: 38¬∞)

üìä GAIN MARGIN ANALYSIS:
   Current Value: 0.5 dB @ 645.4 Hz
   Target Range:  6-15 dB
   Target Value:  10 dB
   ‚ùå FAIL - Gain margin too low (minimum: 6 dB)

üéØ SENSITIVITY ANALYSIS:
   Current Value: 25.5 dB @ 644.9 Hz
   Maximum Limit: 6 dB
   Target Value:  6 dB
   ‚ùå FAIL - Sensitivity exceeds maximum limit

============================================================
‚ö†Ô∏è  OVERALL ASSESSMENT: FAIL
   The following issues were identified:
   1. Phase margin too low (35.4¬∞ < 38¬∞)
   2. Gain margin too low (0.5 dB < 6 dB)
   3. Sensitivity exceeds limit (25.5 dB > 6 dB)
============================================================

Stability Analysis: FAILED
Applying new servo parameters for axis X
Gain K Before: 2.38
Gain K Shaped: 2.473
Kip Before: 8.97
Kip Shaped: 3.437
Kip2 Before: 0.0
Kip2 Shaped: 0.0
Kiv Before: 17.9
Kiv Shaped: 6.875
Kpv Before: 1.0
Kpv Shaped: 1.0
Kv Before: 1.0
Kv Shaped: 1.0
Ksi1 Before: 0.0
Ksi1 Shaped: 0.0
Ksi2 Before: 0.0
Ksi2 Shaped: 0.0
Pff Before: 0.0
Pff Shaped: 0.0
Vff Before: 0.0
Vff Shaped: 0.0
üîß FF ANALYSIS ADJUSTMENT:
   Aff Original: 12.600000
   Center Mag Diff: -4.914521 dB
   Aff Adjusted: 7.685479
Jff Before: 0.0
Jff Shaped: 0.0
Sff Before: 0.0
Sff Shaped: 0.0
Feedforward Advance Before: 0.5
Feedforward Advance Shaped: 0.34210609306006584
‚úÖ Successfully applied shaped servo parameters

üìã PARAMETER UPDATE SUMMARY:
   Axis: X
   Parameters Applied: 17

üîß Processing shaped filter configurations...
üîß Using Drive Frequency as sample frequency: 20000.0 Hz

Processing Servo_Filters Filter 0: Low_Pass
Parameters: {'Cutoff Frequency': 749.9999999999997}
  Cutoff Frequency: 750.000 Hz
  Numerator:   [0.011757, 0.023514, 0.011757]
  Denominator: [1.000000, -1.670701, 0.717730]

Processing Servo_Filters Filter 1: Notch
Parameters: {'Center Frequency': 997.9997580554844, 'Width': 350.00002908844124, 'Depth': 14.999993143582218}
  Center Frequency: 998.000 Hz
  Width: 350.000
  Depth: 15.000 dB
  Numerator:   [0.957417, -1.803964, 0.938996]
  Denominator: [1.000000, -1.803964, 0.896414]

Processing Servo_Filters Filter 2: Notch
Parameters: {'Center Frequency': 575.0002958448309, 'Width': 87.00007981164768, 'Depth': 5.000001505722472}
  Center Frequency: 575.000 Hz
  Width: 87.000
  Depth: 5.000 dB
  Numerator:   [0.990455, -1.924549, 0.965927]
  Denominator: [1.000000, -1.924549, 0.956382]

Processing Servo_Filters Filter 3: Notch
Parameters: {'Center Frequency': 152.9976744843298, 'Width': 250.0010952322068, 'Depth': 9.99999656999113}
  Center Frequency: 152.998 Hz
  Width: 250.001
  Depth: 10.000 dB
  Numerator:   [0.976021, -1.927633, 0.953841]
  Denominator: [1.000000, -1.927633, 0.929862]

Processing Servo_Filters Filter 4: Notch
Parameters: {'Center Frequency': 739.0002870470561, 'Width': 179.9999515702645, 'Depth': 9.99998325389882}
  Center Frequency: 739.000 Hz
  Width: 180.000
  Depth: 10.000 dB
  Numerator:   [0.979464, -1.887885, 0.960468]
  Denominator: [1.000000, -1.887885, 0.939932]

Processing Servo_Filters Filter 5: Notch
Parameters: {'Center Frequency': 99.9555000000098, 'Width': 45.969999999999985, 'Depth': 17.84000000000045}
  Center Frequency: 99.956 Hz
  Width: 45.970
  Depth: 17.840 dB
  Numerator:   [0.993800, -1.984797, 0.991976]
  Denominator: [1.000000, -1.984797, 0.985776]

Processing Servo_Filters Filter 6: Notch
Parameters: {'Center Frequency': 417.57300000000066, 'Width': 200.79999999999976, 'Depth': 10.940000000000023}
  Center Frequency: 417.573 Hz
  Width: 200.800
  Depth: 10.940 dB
  Numerator:   [0.976860, -1.918751, 0.958521]
  Denominator: [1.000000, -1.918751, 0.935381]

Processing Servo_Filters Filter 7: Notch
Parameters: {'Center Frequency': 701.9350000000003, 'Width': 749.1999999999995, 'Depth': 14.860000000000007}
  Center Frequency: 701.935 Hz
  Width: 749.200
  Depth: 14.860 dB
  Numerator:   [0.919848, -1.760643, 0.884489]
  Denominator: [1.000000, -1.760643, 0.804337]

Processing Feedforward_Filters Filter 0: Low_Pass
Parameters: {'Cutoff Frequency': 999.9998359965327}
  Cutoff Frequency: 1000.000 Hz
  Numerator:   [0.019790, 0.039579, 0.019790]
  Denominator: [1.000000, -1.564504, 0.643662]

Applying Servo_Filters coefficients to axis X
  Applying Filter 0 (Low_Pass):
    Numerator:   [0.011757, 0.023514, 0.011757]
    Denominator: [1.000000, -1.670701, 0.717730]
    ‚úÖ Applied to ServoLoopFilter00
  Applying Filter 1 (Notch):
    Numerator:   [0.957417, -1.803964, 0.938996]
    Denominator: [1.000000, -1.803964, 0.896414]
    ‚úÖ Applied to ServoLoopFilter01
  Applying Filter 2 (Notch):
    Numerator:   [0.990455, -1.924549, 0.965927]
    Denominator: [1.000000, -1.924549, 0.956382]
    ‚úÖ Applied to ServoLoopFilter02
  Applying Filter 3 (Notch):
    Numerator:   [0.976021, -1.927633, 0.953841]
    Denominator: [1.000000, -1.927633, 0.929862]
    ‚úÖ Applied to ServoLoopFilter03
  Applying Filter 4 (Notch):
    Numerator:   [0.979464, -1.887885, 0.960468]
    Denominator: [1.000000, -1.887885, 0.939932]
    ‚úÖ Applied to ServoLoopFilter04
  Applying Filter 5 (Notch):
    Numerator:   [0.993800, -1.984797, 0.991976]
    Denominator: [1.000000, -1.984797, 0.985776]
    ‚úÖ Applied to ServoLoopFilter05
  Applying Filter 6 (Notch):
    Numerator:   [0.976860, -1.918751, 0.958521]
    Denominator: [1.000000, -1.918751, 0.935381]
    ‚úÖ Applied to ServoLoopFilter06
  Applying Filter 7 (Notch):
    Numerator:   [0.919848, -1.760643, 0.884489]
    Denominator: [1.000000, -1.760643, 0.804337]
    ‚úÖ Applied to ServoLoopFilter07

Applying Feedforward_Filters coefficients to axis X
  Applying Filter 0 (Low_Pass):
    Numerator:   [0.019790, 0.039579, 0.019790]
    Denominator: [1.000000, -1.564504, 0.643662]
    ‚úÖ Applied to FeedforwardFilter00

üîß Enabling servo filters at indices: [0, 1, 2, 3, 4, 5, 6, 7]
  Adding filter 0 to bitmask: bit 0 = 1
  Adding filter 1 to bitmask: bit 1 = 2
  Adding filter 2 to bitmask: bit 2 = 4
  Adding filter 3 to bitmask: bit 3 = 8
  Adding filter 4 to bitmask: bit 4 = 16
  Adding filter 5 to bitmask: bit 5 = 32
  Adding filter 6 to bitmask: bit 6 = 64
  Adding filter 7 to bitmask: bit 7 = 128
üîß Final servoloopfiltersetup bitmask: 255 (binary: 0b11111111)
‚úÖ Successfully applied all filter coefficients
