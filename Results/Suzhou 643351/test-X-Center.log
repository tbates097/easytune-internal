üîç Processing FR file: test-X-Center.fr
üìÖ Timestamp: 2025-06-13 10:22:36
============================================================

üéØ STEP 2: EasyTune Optimization

Starting EasyTune thread...
Reading FR file: C:\Users\MECHASSY\Documents\Automation1\test-X-Center.fr

Loaded FR Data:
Version: 2.10.0.3041
Data type: <class 'Aerotech.Automation1.Applications.Wpf.FrequencyResponseResult'>
Block_Layout Filename: C:\Users\MECHASSY\Documents\Automation1\test-X-Center.fr
Successfully created block layout

Attempting EasyTune optimization...
Best Result: Aerotech.Automation1.Applications.Interfaces.PopulationMember

EasyTune Results:
Success: True
Generations: 154
Time: 0.66s
Logs: C:\Users\mechassy\Desktop\EasyTune\EasyTune Logs\X_EasyTune 2025.06.13 10.22.48.zip

Analysis complete. Results written to: C:\Users\MECHASSY\Documents\Automation1\EasyTune_Results_test-X-Center_20250613_102250.txt
EasyTune thread completed

============================================================
                STABILITY ANALYSIS REPORT
============================================================

üîß FEEDFORWARD ANALYSIS:
   Center Frequency: 158.7 Hz
   Center Magnitude Difference: -3.561 dB
   Slope Difference: -10.353 dB/decade

üìê PHASE MARGIN ANALYSIS:
   Current Value: 45.8¬∞ @ 44.7 Hz
   Target Range:  38-52¬∞
   Target Value:  45¬∞
   ‚úÖ PASS - Phase margin within acceptable range

üìä GAIN MARGIN ANALYSIS:
   Current Value: 15.0 dB @ 1360.8 Hz
   Target Range:  6-15 dB
   Target Value:  10 dB
   ‚ö†Ô∏è  WARNING - Gain margin too high (maximum: 15 dB)

üéØ SENSITIVITY ANALYSIS:
   Current Value: 2.3 dB @ 50.7 Hz
   Maximum Limit: 6 dB
   Target Value:  6 dB
   ‚úÖ PASS - Sensitivity within acceptable limit

============================================================
‚ö†Ô∏è  OVERALL ASSESSMENT: FAIL
   The following issues were identified:
   1. Gain margin too high (15.0 dB > 15 dB)
============================================================

Stability Analysis: FAILED
Applying new servo parameters for axis X
Gain K Before: 17.2
Gain K Shaped: 16.81
Kip Before: 9.691
Kip Shaped: 7.076
Kip2 Before: 0.0
Kip2 Shaped: 0.0
Kiv Before: 19.38
Kiv Shaped: 14.15
Kpv Before: 1.0
Kpv Shaped: 1.0
Kv Before: 1.0
Kv Shaped: 1.0
Ksi1 Before: 0.0
Ksi1 Shaped: 0.0
Ksi2 Before: 0.0
Ksi2 Shaped: 0.0
Pff Before: 0.0
Pff Shaped: 0.0
Vff Before: 0.0
Vff Shaped: 0.0
üîß FF ANALYSIS ADJUSTMENT:
   Aff Original: 56.900000
   Center Mag Diff: -3.560638 dB
   Aff Adjusted: 53.339362
Jff Before: 0.0
Jff Shaped: 0.0
Sff Before: 0.0
Sff Shaped: 0.0
Feedforward Advance Before: 0.14377561211585999
Feedforward Advance Shaped: 0.0
‚úÖ Successfully applied shaped servo parameters

üìã PARAMETER UPDATE SUMMARY:
   Axis: X
   Parameters Applied: 17

üîß Processing shaped filter configurations...
üîß Using Drive Frequency as sample frequency: 20000.0 Hz

Processing Servo_Filters Filter 0: Low_Pass
Parameters: {'Cutoff Frequency': 1000.0000000000002}
  Cutoff Frequency: 1000.000 Hz
  Numerator:   [0.019790, 0.039579, 0.019790]
  Denominator: [1.000000, -1.564504, 0.643662]

Processing Servo_Filters Filter 1: Notch
Parameters: {'Center Frequency': 232.9388040723832, 'Width': 33.080205000572406, 'Depth': 4.638020524828111}
  Center Frequency: 232.939 Hz
  Width: 33.080
  Depth: 4.638 dB
  Numerator:   [0.996205, -1.976349, 0.985448]
  Denominator: [1.000000, -1.976349, 0.981653]

Processing Servo_Filters Filter 2: Notch
Parameters: {'Center Frequency': 850.5541986170391, 'Width': 446.10000302062434, 'Depth': 14.9700125432876}
  Center Frequency: 850.554 Hz
  Width: 446.100
  Depth: 14.970 dB
  Numerator:   [0.946998, -1.804573, 0.923973]
  Denominator: [1.000000, -1.804573, 0.870971]

Processing Servo_Filters Filter 3: Notch
Parameters: {'Center Frequency': 1163.3899095641723, 'Width': 498.69988533911516, 'Depth': 27.930016277220098}
  Center Frequency: 1163.390 Hz
  Width: 498.700
  Depth: 27.930 dB
  Numerator:   [0.933624, -1.738731, 0.928074]
  Denominator: [1.000000, -1.738731, 0.861698]

Processing Servo_Filters Filter 4: Notch
Parameters: {'Center Frequency': 1716.859810446562, 'Width': 1112.9999510648706, 'Depth': 25.339993234190153}
  Center Frequency: 1716.860 Hz
  Width: 1113.000
  Depth: 25.340 dB
  Numerator:   [0.872412, -1.484601, 0.857825]
  Denominator: [1.000000, -1.484601, 0.730237]

Processing Servo_Filters Filter 5: Notch
Parameters: {'Center Frequency': 2033.4400636499224, 'Width': 1174.9998599089554, 'Depth': 16.02999508169037}
  Center Frequency: 2033.440 Hz
  Width: 1175.000
  Depth: 16.030 dB
  Numerator:   [0.880859, -1.378423, 0.836165]
  Denominator: [1.000000, -1.378423, 0.717025]

Processing Servo_Filters Filter 6: Notch
Parameters: {'Center Frequency': 3204.239953027376, 'Width': 2557.9999836397683, 'Depth': 18.739994933411896}
  Center Frequency: 3204.240 Hz
  Width: 2558.000
  Depth: 18.740 dB
  Numerator:   [0.798298, -0.825505, 0.745564]
  Denominator: [1.000000, -0.825505, 0.543862]

Processing Servo_Filters Filter 7: Notch
Parameters: {'Center Frequency': 4481.829975158239, 'Width': 493.7998906521786, 'Depth': 16.769991741194104}
  Center Frequency: 4481.830 Hz
  Width: 493.800
  Depth: 16.770 dB
  Numerator:   [0.962402, -0.309885, 0.949645]
  Denominator: [1.000000, -0.309885, 0.912046]

Processing Servo_Filters Filter 8: Notch
Parameters: {'Center Frequency': 116.9609999999954, 'Width': 40.95000000000013, 'Depth': 27.489999999998993}
  Center Frequency: 116.961 Hz
  Width: 40.950
  Depth: 27.490 dB
  Numerator:   [0.993958, -1.986043, 0.993426]
  Denominator: [1.000000, -1.986043, 0.987384]

Processing Feedforward_Filters Filter 0: Low_Pass
Parameters: {'Cutoff Frequency': 999.9998359965327}
  Cutoff Frequency: 1000.000 Hz
  Numerator:   [0.019790, 0.039579, 0.019790]
  Denominator: [1.000000, -1.564504, 0.643662]

Applying Servo_Filters coefficients to axis X
  Applying Filter 0 (Low_Pass):
    Numerator:   [0.019790, 0.039579, 0.019790]
    Denominator: [1.000000, -1.564504, 0.643662]
    ‚úÖ Applied to ServoLoopFilter00
  Applying Filter 1 (Notch):
    Numerator:   [0.996205, -1.976349, 0.985448]
    Denominator: [1.000000, -1.976349, 0.981653]
    ‚úÖ Applied to ServoLoopFilter01
  Applying Filter 2 (Notch):
    Numerator:   [0.946998, -1.804573, 0.923973]
    Denominator: [1.000000, -1.804573, 0.870971]
    ‚úÖ Applied to ServoLoopFilter02
  Applying Filter 3 (Notch):
    Numerator:   [0.933624, -1.738731, 0.928074]
    Denominator: [1.000000, -1.738731, 0.861698]
    ‚úÖ Applied to ServoLoopFilter03
  Applying Filter 4 (Notch):
    Numerator:   [0.872412, -1.484601, 0.857825]
    Denominator: [1.000000, -1.484601, 0.730237]
    ‚úÖ Applied to ServoLoopFilter04
  Applying Filter 5 (Notch):
    Numerator:   [0.880859, -1.378423, 0.836165]
    Denominator: [1.000000, -1.378423, 0.717025]
    ‚úÖ Applied to ServoLoopFilter05
  Applying Filter 6 (Notch):
    Numerator:   [0.798298, -0.825505, 0.745564]
    Denominator: [1.000000, -0.825505, 0.543862]
    ‚úÖ Applied to ServoLoopFilter06
  Applying Filter 7 (Notch):
    Numerator:   [0.962402, -0.309885, 0.949645]
    Denominator: [1.000000, -0.309885, 0.912046]
    ‚úÖ Applied to ServoLoopFilter07
  Applying Filter 8 (Notch):
    Numerator:   [0.993958, -1.986043, 0.993426]
    Denominator: [1.000000, -1.986043, 0.987384]
    ‚úÖ Applied to ServoLoopFilter08

Applying Feedforward_Filters coefficients to axis X
  Applying Filter 0 (Low_Pass):
    Numerator:   [0.019790, 0.039579, 0.019790]
    Denominator: [1.000000, -1.564504, 0.643662]
    ‚úÖ Applied to FeedforwardFilter00

üîß Enabling servo filters at indices: [0, 1, 2, 3, 4, 5, 6, 7, 8]
  Adding filter 0 to bitmask: bit 0 = 1
  Adding filter 1 to bitmask: bit 1 = 2
  Adding filter 2 to bitmask: bit 2 = 4
  Adding filter 3 to bitmask: bit 3 = 8
  Adding filter 4 to bitmask: bit 4 = 16
  Adding filter 5 to bitmask: bit 5 = 32
  Adding filter 6 to bitmask: bit 6 = 64
  Adding filter 7 to bitmask: bit 7 = 128
  Adding filter 8 to bitmask: bit 8 = 256
üîß Final servoloopfiltersetup bitmask: 511 (binary: 0b111111111)
‚úÖ Successfully applied all filter coefficients
