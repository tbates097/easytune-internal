üîç Processing FR file: test-Y-Center.fr
üìÖ Timestamp: 2025-06-13 10:22:59
============================================================

üéØ STEP 2: EasyTune Optimization

Starting EasyTune thread...
Reading FR file: C:\Users\MECHASSY\Documents\Automation1\test-Y-Center.fr

Loaded FR Data:
Version: 2.10.0.3041
Data type: <class 'Aerotech.Automation1.Applications.Wpf.FrequencyResponseResult'>
Block_Layout Filename: C:\Users\MECHASSY\Documents\Automation1\test-Y-Center.fr
Successfully created block layout

Attempting EasyTune optimization...
Best Result: Aerotech.Automation1.Applications.Interfaces.PopulationMember

EasyTune Results:
Success: False
Generations: 193
Time: 0.59s
Logs: C:\Users\mechassy\Desktop\EasyTune\EasyTune Logs\Y_EasyTune 2025.06.13 10.23.18.zip

Analysis complete. Results written to: C:\Users\MECHASSY\Documents\Automation1\EasyTune_Results_test-Y-Center_20250613_102323.txt
EasyTune thread completed

============================================================
                STABILITY ANALYSIS REPORT
============================================================

üîß FEEDFORWARD ANALYSIS:
   Center Frequency: 158.7 Hz
   Center Magnitude Difference: -2.848 dB
   Slope Difference: -6.303 dB/decade

üìê PHASE MARGIN ANALYSIS:
   Current Value: 25.1¬∞ @ 49.3 Hz
   Target Range:  38-52¬∞
   Target Value:  45¬∞
   ‚ùå FAIL - Phase margin too low (minimum: 38¬∞)

üìä GAIN MARGIN ANALYSIS:
   Current Value: 9.2 dB @ 28.1 Hz
   Target Range:  6-15 dB
   Target Value:  10 dB
   ‚úÖ PASS - Gain margin within acceptable range

üéØ SENSITIVITY ANALYSIS:
   Current Value: 7.4 dB @ 47.7 Hz
   Maximum Limit: 6 dB
   Target Value:  6 dB
   ‚ùå FAIL - Sensitivity exceeds maximum limit

============================================================
‚ö†Ô∏è  OVERALL ASSESSMENT: FAIL
   The following issues were identified:
   1. Phase margin too low (25.1¬∞ < 38¬∞)
   2. Sensitivity exceeds limit (7.4 dB > 6 dB)
============================================================

Stability Analysis: FAILED
Applying new servo parameters for axis Y
Gain K Before: 8.563579872309074
Gain K Shaped: 9.696
Kip Before: 20.061593260214288
Kip Shaped: 7.216
Kip2 Before: 0.0
Kip2 Shaped: 0.0
Kiv Before: 40.03372568091812
Kiv Shaped: 14.43
Kpv Before: 1.0
Kpv Shaped: 1.0
Kv Before: 1.0
Kv Shaped: 1.0
Ksi1 Before: 0.0
Ksi1 Shaped: 0.0
Ksi2 Before: 0.0
Ksi2 Shaped: 0.0
Pff Before: 0.0
Pff Shaped: 0.0
Vff Before: 0.0
Vff Shaped: 0.0
üîß FF ANALYSIS ADJUSTMENT:
   Aff Original: 33.900000
   Center Mag Diff: -2.847510 dB
   Aff Adjusted: 31.052490
Jff Before: 0.0
Jff Shaped: 0.0
Sff Before: 0.0
Sff Shaped: 0.0
Feedforward Advance Before: 0.375
Feedforward Advance Shaped: 0.6825865816767174
‚úÖ Successfully applied shaped servo parameters

üìã PARAMETER UPDATE SUMMARY:
   Axis: Y
   Parameters Applied: 17

üîß Processing shaped filter configurations...
üîß Using Drive Frequency as sample frequency: 20000.0 Hz

Processing Servo_Filters Filter 0: Low_Pass
Parameters: {'Cutoff Frequency': 1000.0000000000002}
  Cutoff Frequency: 1000.000 Hz
  Numerator:   [0.019790, 0.039579, 0.019790]
  Denominator: [1.000000, -1.564504, 0.643662]

Processing Servo_Filters Filter 1: Notch
Parameters: {'Center Frequency': 761.7186582327682, 'Width': 195.29972315073854, 'Depth': 6.099988220026481}
  Center Frequency: 761.719 Hz
  Width: 195.300
  Depth: 6.100 dB
  Numerator:   [0.979640, -1.864603, 0.939655]
  Denominator: [1.000000, -1.864603, 0.919296]

Processing Servo_Filters Filter 2: Notch
Parameters: {'Center Frequency': 1757.812343617998, 'Width': 624.9999617181652, 'Depth': 6.300000072266788}
  Center Frequency: 1757.812 Hz
  Width: 625.000
  Depth: 6.300 dB
  Numerator:   [0.943537, -1.516330, 0.837541]
  Denominator: [1.000000, -1.516330, 0.781077]

Processing Servo_Filters Filter 3: Notch
Parameters: {'Center Frequency': 144.54300000000364, 'Width': 104.60000000000026, 'Depth': 22.299999999999955}
  Center Frequency: 144.543 Hz
  Width: 104.600
  Depth: 22.300 dB
  Numerator:   [0.985792, -1.967192, 0.983430]
  Denominator: [1.000000, -1.967192, 0.969222]

Processing Servo_Filters Filter 4: Notch
Parameters: {'Center Frequency': 318.9189999999988, 'Width': 64.42000000000036, 'Depth': 6.362000000000085}
  Center Frequency: 318.919 Hz
  Width: 64.420
  Depth: 6.362 dB
  Numerator:   [0.992985, -1.963086, 0.979995]
  Denominator: [1.000000, -1.963086, 0.972980]

Processing Feedforward_Filters Filter 0: Low_Pass
Parameters: {'Cutoff Frequency': 999.9998359965327}
  Cutoff Frequency: 1000.000 Hz
  Numerator:   [0.019790, 0.039579, 0.019790]
  Denominator: [1.000000, -1.564504, 0.643662]

Applying Servo_Filters coefficients to axis Y
  Applying Filter 0 (Low_Pass):
    Numerator:   [0.019790, 0.039579, 0.019790]
    Denominator: [1.000000, -1.564504, 0.643662]
    ‚úÖ Applied to ServoLoopFilter00
  Applying Filter 1 (Notch):
    Numerator:   [0.979640, -1.864603, 0.939655]
    Denominator: [1.000000, -1.864603, 0.919296]
    ‚úÖ Applied to ServoLoopFilter01
  Applying Filter 2 (Notch):
    Numerator:   [0.943537, -1.516330, 0.837541]
    Denominator: [1.000000, -1.516330, 0.781077]
    ‚úÖ Applied to ServoLoopFilter02
  Applying Filter 3 (Notch):
    Numerator:   [0.985792, -1.967192, 0.983430]
    Denominator: [1.000000, -1.967192, 0.969222]
    ‚úÖ Applied to ServoLoopFilter03
  Applying Filter 4 (Notch):
    Numerator:   [0.992985, -1.963086, 0.979995]
    Denominator: [1.000000, -1.963086, 0.972980]
    ‚úÖ Applied to ServoLoopFilter04

Applying Feedforward_Filters coefficients to axis Y
  Applying Filter 0 (Low_Pass):
    Numerator:   [0.019790, 0.039579, 0.019790]
    Denominator: [1.000000, -1.564504, 0.643662]
    ‚úÖ Applied to FeedforwardFilter00

üîß Enabling servo filters at indices: [0, 1, 2, 3, 4]
  Adding filter 0 to bitmask: bit 0 = 1
  Adding filter 1 to bitmask: bit 1 = 2
  Adding filter 2 to bitmask: bit 2 = 4
  Adding filter 3 to bitmask: bit 3 = 8
  Adding filter 4 to bitmask: bit 4 = 16
üîß Final servoloopfiltersetup bitmask: 31 (binary: 0b11111)
‚úÖ Successfully applied all filter coefficients
