üîç Processing FR file: test-Y-Center.fr
üìÖ Timestamp: 2025-06-12 14:35:37
============================================================

üéØ STEP 2: EasyTune Optimization

Starting EasyTune thread...
Reading FR file: C:\Users\MECHASSY\Documents\Automation1\test-Y-Center.fr

Loaded FR Data:
Version: 2.10.0.3041
Data type: <class 'Aerotech.Automation1.Applications.Wpf.FrequencyResponseResult'>
Block_Layout Filename: C:\Users\MECHASSY\Documents\Automation1\test-Y-Center.fr
Successfully created block layout

Attempting EasyTune optimization...
Open loop response: Aerotech.Automation1.Applications.Shared.FrequencyResponse
Created FrequencyResponseAnalyzer from open loop response: Aerotech.Automation1.Applications.Shared.FrequencyResponseAnalyzer

EasyTune Results:
Success: True
Generations: 174
Time: 0.90s
Logs: C:\Users\mechassy\Desktop\EasyTune\EasyTune Logs\Y_EasyTune 2025.06.12 14.36.00.zip

Analysis complete. Results written to: C:\Users\MECHASSY\Documents\Automation1\EasyTune_Results_test-Y-Center_20250612_143603.txt
EasyTune thread completed

============================================================
                STABILITY ANALYSIS REPORT
============================================================

üîß FEEDFORWARD ANALYSIS:
   Center Frequency: 158.7 Hz
   Center Magnitude Difference: -0.313 dB
   Slope Difference: -7.674 dB/decade

üìê PHASE MARGIN ANALYSIS:
   Current Value: 58.9¬∞ @ 34.3 Hz
   Target Range:  38-52¬∞
   Target Value:  45¬∞
   ‚ö†Ô∏è  WARNING - Phase margin too high (maximum: 52¬∞)

üìä GAIN MARGIN ANALYSIS:
   Current Value: 11.7 dB @ 904.2 Hz
   Target Range:  6-15 dB
   Target Value:  10 dB
   ‚úÖ PASS - Gain margin within acceptable range

üéØ SENSITIVITY ANALYSIS:
   Current Value: 2.7 dB @ 1298.5 Hz
   Maximum Limit: 6 dB
   Target Value:  6 dB
   ‚úÖ PASS - Sensitivity within acceptable limit

============================================================
‚ö†Ô∏è  OVERALL ASSESSMENT: FAIL
   The following issues were identified:
   1. Phase margin too high (58.9¬∞ > 52¬∞)
============================================================

Stability Analysis: FAILED
Applying new servo parameters for axis Y
Gain K Before: 5.891
Gain K Shaped: 5.771
Kip Before: 3.456
Kip Shaped: 4.364
Kip2 Before: 0.0
Kip2 Shaped: 0.0
Kiv Before: 6.912
Kiv Shaped: 8.729
Kpv Before: 1.0
Kpv Shaped: 1.0
Kv Before: 1.0
Kv Shaped: 1.0
Ksi1 Before: 0.0
Ksi1 Shaped: 0.0
Ksi2 Before: 0.0
Ksi2 Shaped: 0.0
Pff Before: 0.0
Pff Shaped: 0.0
Vff Before: 0.0
Vff Shaped: 0.0
üîß FF ANALYSIS ADJUSTMENT:
   Aff Original: 15.692429
   Center Mag Diff: -0.313393 dB
   Aff Adjusted: 15.379036
Jff Before: 0.0
Jff Shaped: 0.0
Sff Before: 0.0
Sff Shaped: 0.0
Feedforward Advance Before: 0.8180776238441467
Feedforward Advance Shaped: 0.8188083521357995
‚úÖ Successfully applied shaped servo parameters

üìã PARAMETER UPDATE SUMMARY:
   Axis: Y
   Parameters Applied: 17

üîß Processing shaped filter configurations...
üîß Using Drive Frequency as sample frequency: 20000.0 Hz

Processing Servo_Filters Filter 0: Low_Pass
Parameters: {'Cutoff Frequency': 1000.0000000000002}
  Cutoff Frequency: 1000.000 Hz
  Numerator:   [0.019790, 0.039579, 0.019790]
  Denominator: [1.000000, -1.564504, 0.643662]

Processing Servo_Filters Filter 1: Notch
Parameters: {'Center Frequency': 990.000019297235, 'Width': 199.99995779976314, 'Depth': 12.000013660328737}
  Center Frequency: 990.000 Hz
  Width: 200.000
  Depth: 12.000 dB
  Numerator:   [0.976331, -1.843862, 0.960452]
  Denominator: [1.000000, -1.843862, 0.936784]

Processing Servo_Filters Filter 2: Notch
Parameters: {'Center Frequency': 530.0003446601427, 'Width': 149.99994170738947, 'Depth': 11.999992807115508}
  Center Frequency: 530.000 Hz
  Width: 150.000
  Depth: 12.000 dB
  Numerator:   [0.981886, -1.924628, 0.969733]
  Denominator: [1.000000, -1.924628, 0.951618]

Processing Servo_Filters Filter 3: Notch
Parameters: {'Center Frequency': 101.01869482460746, 'Width': 69.96017742523775, 'Depth': 18.329986561342867}
  Center Frequency: 101.019 Hz
  Width: 69.960
  Depth: 18.330 dB
  Numerator:   [0.990788, -1.978039, 0.988247]
  Denominator: [1.000000, -1.978039, 0.979035]

Processing Servo_Filters Filter 4: Notch
Parameters: {'Center Frequency': 294.4469125327562, 'Width': 41.770029970840056, 'Depth': 15.250014517790717}
  Center Frequency: 294.447 Hz
  Width: 41.770
  Depth: 15.250 dB
  Numerator:   [0.994466, -1.978126, 0.992154]
  Denominator: [1.000000, -1.978126, 0.986620]

Processing Servo_Filters Filter 5: Notch
Parameters: {'Center Frequency': 386.5811504810919, 'Width': 166.30005229493148, 'Depth': 5.712001158339516}
  Center Frequency: 386.581 Hz
  Width: 166.300
  Depth: 5.712 dB
  Numerator:   [0.982616, -1.913653, 0.945237]
  Denominator: [1.000000, -1.913653, 0.927853]

Processing Servo_Filters Filter 6: Notch
Parameters: {'Center Frequency': 506.5039752449864, 'Width': 69.3698849229182, 'Depth': 8.698961075729455}
  Center Frequency: 506.504 Hz
  Width: 69.370
  Depth: 8.699 dB
  Numerator:   [0.992101, -1.950080, 0.982930]
  Denominator: [1.000000, -1.950080, 0.975031]

Processing Servo_Filters Filter 7: Notch
Parameters: {'Center Frequency': 951.0918526999527, 'Width': 115.60007136213657, 'Depth': 19.879995413766288}
  Center Frequency: 951.092 Hz
  Width: 115.600
  Depth: 19.880 dB
  Numerator:   [0.984190, -1.877755, 0.980622]
  Denominator: [1.000000, -1.877755, 0.964812]

Processing Servo_Filters Filter 8: Notch
Parameters: {'Center Frequency': 1850.0098333793728, 'Width': 785.3000864807395, 'Depth': 23.649988497584022}
  Center Frequency: 1850.010 Hz
  Width: 785.300
  Depth: 23.650 dB
  Numerator:   [0.906301, -1.503971, 0.893126]
  Denominator: [1.000000, -1.503971, 0.799427]

Processing Servo_Filters Filter 9: Notch
Parameters: {'Center Frequency': 130.5866711849611, 'Width': 15.899750021241129, 'Depth': 4.029962829029109}
  Center Frequency: 130.587 Hz
  Width: 15.900
  Depth: 4.030 dB
  Numerator:   [0.997989, -1.987491, 0.991176]
  Denominator: [1.000000, -1.987491, 0.989164]

Processing Feedforward_Filters Filter 0: Low_Pass
Parameters: {'Cutoff Frequency': 999.9998359965327}
  Cutoff Frequency: 1000.000 Hz
  Numerator:   [0.019790, 0.039579, 0.019790]
  Denominator: [1.000000, -1.564504, 0.643662]

Applying Servo_Filters coefficients to axis Y
  Applying Filter 0 (Low_Pass):
    Numerator:   [0.019790, 0.039579, 0.019790]
    Denominator: [1.000000, -1.564504, 0.643662]
    ‚úÖ Applied to ServoLoopFilter00
  Applying Filter 1 (Notch):
    Numerator:   [0.976331, -1.843862, 0.960452]
    Denominator: [1.000000, -1.843862, 0.936784]
    ‚úÖ Applied to ServoLoopFilter01
  Applying Filter 2 (Notch):
    Numerator:   [0.981886, -1.924628, 0.969733]
    Denominator: [1.000000, -1.924628, 0.951618]
    ‚úÖ Applied to ServoLoopFilter02
  Applying Filter 3 (Notch):
    Numerator:   [0.990788, -1.978039, 0.988247]
    Denominator: [1.000000, -1.978039, 0.979035]
    ‚úÖ Applied to ServoLoopFilter03
  Applying Filter 4 (Notch):
    Numerator:   [0.994466, -1.978126, 0.992154]
    Denominator: [1.000000, -1.978126, 0.986620]
    ‚úÖ Applied to ServoLoopFilter04
  Applying Filter 5 (Notch):
    Numerator:   [0.982616, -1.913653, 0.945237]
    Denominator: [1.000000, -1.913653, 0.927853]
    ‚úÖ Applied to ServoLoopFilter05
  Applying Filter 6 (Notch):
    Numerator:   [0.992101, -1.950080, 0.982930]
    Denominator: [1.000000, -1.950080, 0.975031]
    ‚úÖ Applied to ServoLoopFilter06
  Applying Filter 7 (Notch):
    Numerator:   [0.984190, -1.877755, 0.980622]
    Denominator: [1.000000, -1.877755, 0.964812]
    ‚úÖ Applied to ServoLoopFilter07
  Applying Filter 8 (Notch):
    Numerator:   [0.906301, -1.503971, 0.893126]
    Denominator: [1.000000, -1.503971, 0.799427]
    ‚úÖ Applied to ServoLoopFilter08
  Applying Filter 9 (Notch):
    Numerator:   [0.997989, -1.987491, 0.991176]
    Denominator: [1.000000, -1.987491, 0.989164]
    ‚úÖ Applied to ServoLoopFilter09

Applying Feedforward_Filters coefficients to axis Y
  Applying Filter 0 (Low_Pass):
    Numerator:   [0.019790, 0.039579, 0.019790]
    Denominator: [1.000000, -1.564504, 0.643662]
    ‚úÖ Applied to FeedforwardFilter00

üîß Enabling servo filters at indices: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
  Adding filter 0 to bitmask: bit 0 = 1
  Adding filter 1 to bitmask: bit 1 = 2
  Adding filter 2 to bitmask: bit 2 = 4
  Adding filter 3 to bitmask: bit 3 = 8
  Adding filter 4 to bitmask: bit 4 = 16
  Adding filter 5 to bitmask: bit 5 = 32
  Adding filter 6 to bitmask: bit 6 = 64
  Adding filter 7 to bitmask: bit 7 = 128
  Adding filter 8 to bitmask: bit 8 = 256
  Adding filter 9 to bitmask: bit 9 = 512
üîß Final servoloopfiltersetup bitmask: 1023 (binary: 0b1111111111)
‚úÖ Successfully applied all filter coefficients
