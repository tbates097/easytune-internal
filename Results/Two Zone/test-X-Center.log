üîç Processing FR file: test-X-Center.fr
üìÖ Timestamp: 2025-06-06 10:42:18
============================================================

üéØ STEP 2: EasyTune Optimization

Starting EasyTune thread...
Reading FR file: C:\Users\MECHASSY\Documents\Automation1\test-X-Center.fr

Loaded FR Data:
Version: 2.10.0.3041
Data type: <class 'Aerotech.Automation1.Applications.Wpf.FrequencyResponseResult'>
Block_Layout Filename: C:\Users\MECHASSY\Documents\Automation1\test-X-Center.fr
Successfully created block layout

Attempting EasyTune optimization...
Best Result: Aerotech.Automation1.Applications.Interfaces.PopulationMember

EasyTune Results:
Success: False
Generations: 455
Time: 0.03s
Logs: C:\Users\mechassy\Desktop\EasyTune\EasyTune Logs\X_EasyTune 2025.06.06 10.42.31.zip

Analysis complete. Results written to: C:\Users\MECHASSY\Documents\Automation1\EasyTune_Results_test-X-Center_20250606_104234.txt
EasyTune thread completed

============================================================
                STABILITY ANALYSIS REPORT
============================================================

üîß FEEDFORWARD ANALYSIS:
   Center Frequency: 158.7 Hz
   Center Magnitude Difference: 3.909 dB
   Slope Difference: -4.073 dB/decade

üìê PHASE MARGIN ANALYSIS:
   Current Value: 84.5¬∞ @ 23.1 Hz
   Target Range:  38-52¬∞
   Target Value:  45¬∞
   ‚ö†Ô∏è  WARNING - Phase margin too high (maximum: 52¬∞)

üìä GAIN MARGIN ANALYSIS:
   Current Value: 20.5 dB @ 600.6 Hz
   Target Range:  6-15 dB
   Target Value:  10 dB
   ‚ö†Ô∏è  WARNING - Gain margin too high (maximum: 15 dB)

üéØ SENSITIVITY ANALYSIS:
   Current Value: 1.1 dB @ 532.1 Hz
   Maximum Limit: 6 dB
   Target Value:  6 dB
   ‚úÖ PASS - Sensitivity within acceptable limit

============================================================
‚ö†Ô∏è  OVERALL ASSESSMENT: FAIL
   The following issues were identified:
   1. Phase margin too high (84.5¬∞ > 52¬∞)
   2. Gain margin too high (20.5 dB > 15 dB)
============================================================

Stability Analysis: FAILED
Applying new servo parameters for axis X
Gain K Before: 1.06
Gain K Shaped: 8.996
Kip Before: 8.97
Kip Shaped: 20.44
Kip2 Before: 0.0
Kip2 Shaped: 0.0
Kiv Before: 17.9
Kiv Shaped: 40.89
Kpv Before: 1.0
Kpv Shaped: 1.0
Kv Before: 1.0
Kv Shaped: 1.0
Ksi1 Before: 0.0
Ksi1 Shaped: 0.0
Ksi2 Before: 0.0
Ksi2 Shaped: 0.0
Pff Before: 0.0
Pff Shaped: 0.0
Vff Before: 0.0
Vff Shaped: 0.0
üîß FF ANALYSIS ADJUSTMENT:
   Aff Original: 5.700000
   Center Mag Diff: +3.909138 dB
   Aff Adjusted: 9.609138
Jff Before: 0.0
Jff Shaped: 0.0
Sff Before: 0.0
Sff Shaped: 0.0
Feedforward Advance Before: 0.31962457299232483
Feedforward Advance Shaped: 0.3148584722025954
‚úÖ Successfully applied shaped servo parameters

üìã PARAMETER UPDATE SUMMARY:
   Axis: X
   Parameters Applied: 17

üîß Processing shaped filter configurations...
üîß Using Drive Frequency as sample frequency: 20000.0 Hz

Processing Servo_Filters Filter 0: Low_Pass
Parameters: {'Cutoff Frequency': 1000.0000000000002}
  Cutoff Frequency: 1000.000 Hz
  Numerator:   [0.019790, 0.039579, 0.019790]
  Denominator: [1.000000, -1.564504, 0.643662]

Processing Servo_Filters Filter 1: Notch
Parameters: {'Center Frequency': 348.9050000000021, 'Width': 694.2999999999994, 'Depth': 4.902000000000007}
  Center Frequency: 348.905 Hz
  Width: 694.300
  Depth: 4.902 dB
  Numerator:   [0.945683, -1.737622, 0.802429]
  Denominator: [1.000000, -1.737622, 0.748113]

Processing Servo_Filters Filter 2: Notch
Parameters: {'Center Frequency': 410.2020000000006, 'Width': 816.299999999999, 'Depth': 8.95200000000001}
  Center Frequency: 410.202 Hz
  Width: 816.300
  Depth: 8.952 dB
  Numerator:   [0.932896, -1.776496, 0.858454]
  Denominator: [1.000000, -1.776496, 0.791350]

Processing Servo_Filters Filter 3: Notch
Parameters: {'Center Frequency': 841.253000000002, 'Width': 329.09999999999906, 'Depth': 5.415999999999979}
  Center Frequency: 841.253 Hz
  Width: 329.100
  Depth: 5.416 dB
  Numerator:   [0.967026, -1.793352, 0.890833]
  Denominator: [1.000000, -1.793352, 0.857859]

Processing Feedforward_Filters Filter 0: Low_Pass
Parameters: {'Cutoff Frequency': 999.9998359965327}
  Cutoff Frequency: 1000.000 Hz
  Numerator:   [0.019790, 0.039579, 0.019790]
  Denominator: [1.000000, -1.564504, 0.643662]

Applying Servo_Filters coefficients to axis X
  Applying Filter 0 (Low_Pass):
    Numerator:   [0.019790, 0.039579, 0.019790]
    Denominator: [1.000000, -1.564504, 0.643662]
    ‚úÖ Applied to ServoLoopFilter00
  Applying Filter 1 (Notch):
    Numerator:   [0.945683, -1.737622, 0.802429]
    Denominator: [1.000000, -1.737622, 0.748113]
    ‚úÖ Applied to ServoLoopFilter01
  Applying Filter 2 (Notch):
    Numerator:   [0.932896, -1.776496, 0.858454]
    Denominator: [1.000000, -1.776496, 0.791350]
    ‚úÖ Applied to ServoLoopFilter02
  Applying Filter 3 (Notch):
    Numerator:   [0.967026, -1.793352, 0.890833]
    Denominator: [1.000000, -1.793352, 0.857859]
    ‚úÖ Applied to ServoLoopFilter03

Applying Feedforward_Filters coefficients to axis X
  Applying Filter 0 (Low_Pass):
    Numerator:   [0.019790, 0.039579, 0.019790]
    Denominator: [1.000000, -1.564504, 0.643662]
    ‚úÖ Applied to FeedforwardFilter00

üîß Enabling servo filters at indices: [0, 1, 2, 3]
  Adding filter 0 to bitmask: bit 0 = 1
  Adding filter 1 to bitmask: bit 1 = 2
  Adding filter 2 to bitmask: bit 2 = 4
  Adding filter 3 to bitmask: bit 3 = 8
üîß Final servoloopfiltersetup bitmask: 15 (binary: 0b1111)
‚úÖ Successfully applied all filter coefficients
